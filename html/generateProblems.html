<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Generate Problems</title>
		<script
			type="text/javascript"
			src="../js/annotationsFunctions.js"
		></script>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
			<link rel="stylesheet" href="../css/style.css">
	</head>
	<body>
		<!-- <button onclick="generateFillInTheBlank();">
			Generate Fill In The Blank Questions
		</button>
		<button onclick="generateMultipleChoice();">
			Generate Multiple Choice Questions
		</button>
		<button onclick="generateTrueOrFalse();">
			Generate True or False Choice Questions
		</button> -->
		<!--  Checkbox approach: -->
		<input type="checkbox" id="blankQuestions" name="blankQuestions" value="Bike">
		<label for="vehicle1">Generate Fill In The Blank Questions</label>
		<input type="checkbox" id="multChoiceQuestions" name="multChoiceQuestions" value="Car">
		<label for="vehicle2">Generate Multiple Choice Questions</label>
		<input type="checkbox" id="TFQuestions" name="TFQuestions" value="Boat">
		<label for="vehicle3">Generate True or False Choice Questions</label><br><br>

		<label for="export">Select an LMS export destination:</label>
		<select name="export" id="export" onchange="setExportMethod()">
			<option value=""></option>
			<option value="Canvas">Canvas</option>
			<option value="Moodle">Moodle</option>
			<option value="Blackboard">Blackboard</option>
		</select>
		<br><br>
		<button class="btn btn-secondary btn-lg" id="backButton" type="Back" onclick="resetSelections(false), save(), window.location.assign('./annotations.html');">
		Back
		</button>
		<!-- TODO: add to each function being called:
			if(!(document.getElementById("blankQuestions").checked) ){return;} 
		so respective functions not executing if user did not check them-->
		<button
			class="btn btn-secondary btn-lg"
			id="toJSONButton"
			type="submit"
			onclick="generateFillInTheBlank();generateMultipleChoice();generateTrueOrFalse();save();window.location.assign('./JSONDisplayer.html');" 

		>
			Continue
		</button>
		<script >
		//  disable continue button until user selects a valid export destination
		let exportSelection = document.getElementById("export");
		let continueButton = document.getElementById("toJSONButton");
		continueButton.disabled = true; //setting button state to disabled
		exportSelection.addEventListener("change", enableContinue);
		console.log("Disabled continue")
		function enableContinue() {
			if (document.getElementById("export").value === "") {
				continueButton.disabled = true; //button remains disabled
				console.log("Continue still disabled")
			} else {
				continueButton.disabled = false; //button is enabled
			}
		}
		</script>
	</body>
</html>
